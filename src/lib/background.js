window.chrome.runtime.onInstalled.addListener(function(){window.chrome.declarativeContent.onPageChanged.removeRules(void 0,function(){window.chrome.declarativeContent.onPageChanged.addRules([{conditions:[new window.chrome.declarativeContent.PageStateMatcher({pageUrl:{urlContains:"localhost"}}),new window.chrome.declarativeContent.PageStateMatcher({pageUrl:{urlContains:"merchimpulse.com"}}),new window.chrome.declarativeContent.PageStateMatcher({pageUrl:{urlContains:"https://www.tmdn.org/tmview/api/search/"}}),new window.chrome.declarativeContent.PageStateMatcher({pageUrl:{urlContains:"amazon.com"}}),new window.chrome.declarativeContent.PageStateMatcher({pageUrl:{urlContains:"amazon.de"}}),new window.chrome.declarativeContent.PageStateMatcher({pageUrl:{urlContains:"amazon.co.uk"}})],actions:[new window.chrome.declarativeContent.ShowPageAction]}])})});const server=function(e,n){switch(console.log(e),e.action){case"STORAGE_GET":return window.chrome.storage.sync.get(e.key,t=>n(t[e.key]));case"STORAGE_SET":return console.log(e),window.chrome.storage.sync.set({[e.key]:e.value},()=>n());case"GET_TAB_ID":return window.chrome.tabs.query({active:!0},function(e){n({tab_id:e[0].id})});case"SET_TAB_ID":return window.chrome.storage.sync.set({tab_id:e.tab_id},function(){n()});case"OPEN_TAB":return window.chrome.tabs.create({url:e.url,active:!1},function(){n()});case"DATA":return window.chrome.storage.sync.get("tab_id",function({tab_id:n}){console.log(n),window.chrome.tabs.sendMessage(n,{action:"receiveTrademarkData",data:e.data},()=>{})})}};window.chrome.runtime.onMessage.addListener(function(e,n,t){return server(e,t),!0}),window.chrome.runtime.onMessageExternal.addListener(function(e,n,t){return server(e,t),!0});