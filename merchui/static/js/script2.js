(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{23:function(e,t,a){e.exports=a(46)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=(a(28),a(29),a(3));a(30),a(31);function s(e){var t=document.querySelector(e),a=!0;function n(e){a?(t.style.height=r+e+"px",t.style.width=o+e+"px"):(t.style.height=r-e+"px",t.style.width=o-e+"px"),a=!a}var r=100,o=100;n(20),setInterval((function(){n(20)}),1e3)}var l=function(e,t){return{id:e,attributes:t}};var m={appLoader:function(){return r.a.useEffect((function(){s("#_loader-img img")}),[]),r.a.createElement("div",{id:"_loader-container"},r.a.createElement("div",{id:"_loader-img"},r.a.createElement(D.img,l("logo-name-only"))))},processLoader:function(){return r.a.useEffect((function(){s("#process-loader img")}),[]),r.a.createElement("div",{id:"process-loader"},r.a.createElement(D.img,l("logo-name-only")))}},u=a(19),d=a.n(u),_=(a(36),{de:".",com:",",uk:","}),p=function(e,t){var a="chrome-extension://ccicnpdeajgokkadlkfhbanikncnmjmg/merchui/";return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a+t+e}({img:{"arrow-down-white":"arrow-down-white.svg",average:"average.svg",bookmark:"bookmark.svg",competition:"competition.svg",cross:"cross.svg",export:"export.svg",filter:"filter.svg",highest:"high.svg",logo:"logo.svg","logo-name-only":"logo-name-only.svg",lowest:"low.svg",menu:"menu.svg",overall_score:"overall_score.svg",profitability:"profitability.svg",recent:"recent.svg",tick:"tick.svg",trademark:"trademark.svg"}}[e][t])},f={data:{locale:"de",search_term:"funny",stats:{average_amount_of_review:100,average_amount_of_sellers:100,bsr:{highest:10988,lowest:1,average:323},ratings:{highest:5,lowest:3.4,average:4},reviews:{highest:924,lowest:1,average:88},scanned_products:48,sold_products:48,total_products:3e5,total_ratings:48,total_review:48}},score:{profitability:23,competition:6.666666666666667,overall_score:11.566666666666666}};function v(e){var t="80%";"overall_score"===e.id&&(t="100%"),new d.a.Line("#".concat(e.id),{strokeWidth:10,easing:"easeInOut",duration:1400,color:"#F57200",trailColor:"#FBB26E",trailWidth:10,svgStyle:{width:t,height:"20px"},text:{style:{color:"white",position:"absolute",padding:0,margin:0,transform:null},autoStyleContainer:!1},from:{color:"#FFEA82"},to:{color:"#ED6A5A"},step:function(e,t){t.setText(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(e=Number(e))%1!==0&&(e=e.toFixed(t)),e}(100*t.value())+" %")}}).animate(e.score)}var g=function(e){var t=e.field;r.a.useEffect((function(){v(t)}),[]);var a="";return"overall_score"===t.id&&(a+="_mi_text-large _mi_text-bold"),r.a.createElement("div",{className:"_score-progressbar"},r.a.createElement("div",{id:t.id}),r.a.createElement("div",{className:a+" _mi_text-center _score-title"},r.a.createElement("img",{className:"_score-icon",src:p("img",t.id),alt:""}),t.name))};a(37);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(e=Number(e))%1!==0&&(e=e.toFixed(t)),e}function E(e,t){var a="sold_products"===e.id?r.a.createElement("td",{colSpan:3},r.a.createElement("span",null,h(e.value[0])+"  (".concat(Math.round(100*e.value[0]/e.value[1]),")%  out of ").concat(e.value[1]," products"))):Object.keys(e.value).map((function(t){return r.a.createElement("td",{key:t,title:t.toUpperCase()+" "+e.name},r.a.createElement("span",{className:"_data_icon"},r.a.createElement(D.img,{id:t})),r.a.createElement("span",{className:"_table_value"},h(e.value[t])))}));return r.a.createElement("tr",{key:t},r.a.createElement("th",null,e.name),a)}var b=function(e){var t=e.data;r.a.useEffect((function(){!function(){var e=document.querySelectorAll("._table_value");Array.from(e).forEach((function(e){var t=e.innerText;if((t=t.match(/[0-9]+/)[0]).length<=3)return t;for(var a=document.querySelector("#_mi_injected_element").dataset.locale,n=_[a]?_[a]:".",r=1,o=[],c=t.length-1;c>=0;c--)r%4===0&&(r=1,o.push(n)),o.push(t[c]),r++;e.innerText=o.reverse().join("")}))}()}),[]);var a=t.map(E);return r.a.createElement("div",{className:"_additional_info_table"},r.a.createElement("table",{className:"_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:4,className:"_heading"},r.a.createElement("span",{className:"_mi_text-bold",style:{fontSize:"18px"}},"Additional Information")))),r.a.createElement("tbody",null,a)))},k=(a(38),a(11)),y={sendMessage:function(e,t){try{console.log(e),window.chrome.runtime.sendMessage("ccicnpdeajgokkadlkfhbanikncnmjmg",e,(function(e){t(e)}))}catch(a){console.log("here",a)}}},w=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a?e.querySelectorAll(t):e.querySelector(t)},x="#_mi_injected_element",N="._mi_component_popup_menu-list_container",S="._icon",T="._detail_panel",j="._search-term-keyword",O="#_bookmark_";var M={open:function(e){var t=e.currentTarget;w(t,N).classList.add("active")},close:function(e){e.currentTarget.closest(N).classList.remove("active")}};function A(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}var C=function(e){var t=window.location.href;function a(e){return e?e.find((function(e){return e.bookmark_info.url===t})):""}function n(e){y.sendMessage({type:"STORAGE_GET",key:"bookmarks"},(function(t){e(t)}))}function r(){var e="Bookmarked",t=w(document,O);t.setAttribute("title",e)}return{checkMarked:function(e){n((function(t){a(t)&&(r(!0),e("tick"))}))},setBookmark:function(e,o,c){n((function(e){console.log(e);var n,i,s=e||[],l=!0;s.length&&(a(s)&&(l=!1,window.confirm("This page is bookmarked. Do you wish to remove page from bookmarks?")&&(n=s.filter((function(e){return e.bookmark_info.url!==t})),r(!1),i=!0,c(!1))));l&&(n=function(e,t){return e?(a(e)||e.push(t),e):[t]}(s,Object(k.a)({bookmark_info:{url:window.location.href,search_term:o.extra.search_term.toUpperCase(),search_date:o.extra.search_date}},function(e){var t={score:{},table:{}};return e.primary.forEach((function(e){t.score[e.id]=e.score})),e.secondary.forEach((function(e){t.table[e.id]=e.value})),t}(o))),r(!0),i=!0,alert("Page added to bookmarks"),c("tick"));i&&y.sendMessage({type:"STORAGE_SET",key:"bookmarks",value:n},(function(){}))}))}}}();var R={initialize:function(e,t){var a,n;a=e.extra.locale,w(document,x).dataset.locale=a,document.addEventListener("click",(function(e){e.target.closest("._mi_component_popup_menu")||w(document,N,!0).forEach((function(e){return e.classList.remove("active")}))})),C.checkMarked(t.bookmark),n=t.filter,y.sendMessage({type:"STORAGE_GET",key:"recent_filter"},(function(e){e&&n(e)}))},popupMenu:M,toggleDetails:function(e){var t=e.currentTarget,a=w(t,S),n=w(document,T);A(a,"rotate"),A(n,"_panel_opened")},setBookmark:C.setBookmark,filterSearch:function(e,t){var a,n,r,o=e.currentTarget.dataset.type,c=document.createElement("a");c.setAttribute("href",(a=t.locale,n=o,r=t.search_term,"https://www.amazon.".concat({com:"com",de:"de",uk:"co.uk"}[a],"/s?k=").concat(r,"&").concat({com:"i=fashion-novelty",de:"i=clothing",uk:"i=clothing"}[a],"&hidden-keywords=").concat(n,"&ref=nb_sb_noss"))),c.setAttribute("target","_blank"),c.setAttribute("rel","noopener"),y.sendMessage({type:"STORAGE_GET",key:"recent_filter"},(function(e){if(e!==o){var t={type:"STORAGE_SET",key:"recent_filter",value:o};y.sendMessage(t,(function(){document.body.appendChild(c),c.click(),c.remove()}))}}))},trademarkCheck:function(e,t){t(!0);var a=w(document,j).innerText.trim(),n="https://www.tmdn.org/tmview/api/search/?page=1&pageSize=3&criteria=C&basicSearch=".concat(a,"&newPage=true"),r=document.createElement("a");r.href=n,r.setAttribute("rel","noopener"),r.setAttribute("target","_blank"),document.body.appendChild(r),y.sendMessage({type:"GET_TAB_ID"},(function(e){var t={type:"STORAGE_SET",key:"tab",value:e.tab_id};y.sendMessage(t,(function(){var e={type:"OPEN_TAB",url:n,focus:!1};y.sendMessage(e,(function(){}))}))}))},indicateTrademark:function(e,t,a){e.stopPropagation(),a({false:"tick",true:"cross"}[e.currentTarget.dataset.found]),t(!1)},exportTo:function(e,t){var a={stats:{profitability:n(t.primary[0].score),competition:n(t.primary[2].score),overall_score:n(t.primary[1].score)},misc:{provider:"Merch Impulse",search_term:t.extra.search_term}};function n(e){console.log(e,100*e);var t=100*e,a=t.toString(),n=a.indexOf(".");n>=0&&(a.slice(n).length>2&&(t=t.toFixed(2)));return Number(t)}var r=function(){function e(e){var t=e.toString();return 1==t.length?"0"+t:t}var t=new Date;return e(t.getFullYear())+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+" "+(e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds()))};function o(e,t){var a={json:{extension:".json",format:"data:text/plain;charset=utf-8"},csv:{extension:".csv",format:"data:text/csv;charset=utf-8"},xls:{extension:".xls",format:"data:application/vnd.ms-excel"}};return{file_name:"merch-impluse-stats"+a[e].extension,download_data:a[e].format+","+t}}var c={json:function(e){var t={provider:"Merch Impulse",export_on:r()},a=Object(k.a)(Object(k.a)({},t),{},{data:{search_term:e.misc.search_term,stats:{profitability:e.stats.profitability,competition:e.stats.competition,overall_score:e.stats.overall_score}}}),n=JSON.stringify(a,null,4);return o("json",encodeURIComponent(n))},csv:function(e){var t=[["provider","Merch Impulse"],["exported on",r()],["search term",e.misc.search_term],["profitability",e.stats.profitability],["competition",e.stats.competition],["overall score",e.stats.overall_score]].map((function(e){return e.join(",")+"\n"})).join("");return o("csv",encodeURIComponent(t))},xls:function(e){return o("xls",function(){var t=[{th:["Provider","Exported on"]},{td:["Merch Impulse",r()]},{td:[""]},{th:["Search Term","Profitability","Competition","Overall Score"]},{td:[e.misc.search_term,e.stats.profitability,e.stats.competition,e.stats.overall_score]}].map((function(e){var t=Object.keys(e)[0];return"<tr>".concat(e[t].map((function(e){return"<".concat(t,">").concat(e,"</").concat(t,">")})).join(""),"</tr>")})).join("");return"<table>".concat(t,"</table>")}().replace(/ /g,"%20"))}},i=e.currentTarget.dataset.type;c[i](a);var s=c[i](a),l=s.file_name,m=s.download_data;console.log(m);var u=document.createElement("a");u.setAttribute("href",m),u.setAttribute("download",l),document.body.appendChild(u),u.click(),u.remove()}},P=function(){function e(e){var t=e.toString();return 1==t.length?"0"+t:t}return{currentDataTime:function(){var t=new Date;return e(t.getFullYear())+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+" "+(e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds()))}}}();function B(e){var t=r.a.useState(e.data),a=Object(i.a)(t,2),n=a[0],o=(a[1],r.a.useState(!1)),c=Object(i.a)(o,2),s=c[0],l=c[1],u=r.a.useState(!1),d=Object(i.a)(u,2),_=d[0],p=d[1],f=r.a.useState(!1),v=Object(i.a)(f,2),h=v[0],E=v[1],k=r.a.useState(!1),y=Object(i.a)(k,2),w=y[0],x=y[1];r.a.useEffect((function(){n.extra.search_date=P.currentDataTime(),R.initialize(n,{bookmark:E,filter:x})}),[n,s,_,h,w]);var N=function(e){return e.primary.map((function(e){return r.a.createElement("div",{className:"_mi_col _mi_col-8 _mi_pad-10",key:e.id},r.a.createElement(g,{field:e}))}))}(n),S=r.a.createElement(b,{data:n.secondary});function T(e){R.exportTo(e,n)}function j(e){var t={locale:n.extra.locale,search_term:n.extra.search_term};R.filterSearch(e,t)}function O(e,t){return{id:e,attributes:{className:t=t||"_icon"}}}return console.log(n),r.a.createElement("div",{className:"_mi_container-inner"},s?r.a.createElement(m.processLoader,null):"",r.a.createElement("div",{className:"_mi_section _s1_"},r.a.createElement("div",{className:"_mi_section-inner"},r.a.createElement("div",{className:"_mi_row _top_section"},r.a.createElement("div",{className:"_mi_flex_r-center-y"},r.a.createElement("div",{className:"_mi_col _mi_col-8"},r.a.createElement("div",{className:"_mi_row"},r.a.createElement("div",{className:"_mi_col _mi_col-24"},r.a.createElement("div",{className:"_mi_text-center product-name"},r.a.createElement("span",{className:"_mi_text-small _mi_pad"},"Powered By"),"\xa0",r.a.createElement(D.img,O("logo")))))),r.a.createElement("div",{className:"_mi_col _mi_col-8"}),r.a.createElement("div",{className:"_mi_col _mi_col-8"},r.a.createElement("div",{className:"_mi_row _filter-row_"},r.a.createElement("div",{className:"_mi_col _mi_col-6"},r.a.createElement("div",{className:"_mi_flex_r-center-x"},r.a.createElement("div",{className:"_mi_component_popup_menu",onMouseEnter:R.popupMenu.open},r.a.createElement("div",{className:"_mi_component_popup_menu-button"},r.a.createElement("div",{className:"_icon-holder _actions_ _round-border",title:"Filter"},r.a.createElement(D.img,O("filter"))),r.a.createElement("div",{className:"_mi_component_popup_menu-list_container"},r.a.createElement("ul",{className:"_mi_component_popup_menu-list",onMouseLeave:R.popupMenu.close},["t-shirt","premium","popsocket","sweatshirt","longsleeve"].map((function(e){return r.a.createElement("li",{key:e,className:"_mi_component_popup_menu-item _filter_","data-type":e.toLowerCase(),onClick:j,title:w===e?"Recent filter":""},e[0].toUpperCase()+e.slice(1),w&&w===e?r.a.createElement("div",{className:"_recent_"},r.a.createElement(D.img,O("recent","_mini_icon"))):"")})))))))),r.a.createElement("div",{className:"_mi_col _mi_col-6"},r.a.createElement("div",{className:"_mi_flex_r-center-x"},r.a.createElement("div",{id:"_trademark-search_",className:"_icon-holder _actions_ _round-border",onClick:function(e){R.trademarkCheck(e,l)},title:"Trademark check"},r.a.createElement("div",{id:"_trademark-indicator_",onClick:function(e){R.indicateTrademark(e,l,p)}}),r.a.createElement(D.img,O("trademark")),_?r.a.createElement(D.img,O(_,"_micro_icon")):""))),r.a.createElement("div",{className:"_mi_col _mi_col-6"},r.a.createElement("div",{className:"_mi_flex_r-center-x"},r.a.createElement("div",{id:"_bookmark_",className:"_icon-holder _actions_ _round-border",onClick:function(e){R.setBookmark(e,n,E)},title:"Bookmark search"},r.a.createElement(D.img,O("bookmark")),h?r.a.createElement(D.img,O(h,"_micro_icon")):""))),r.a.createElement("div",{className:"_mi_col _mi_col-6"},r.a.createElement("div",{className:"_mi_flex_r-center-x"},r.a.createElement("div",{className:"_mi_component_popup_menu",onMouseEnter:R.popupMenu.open},r.a.createElement("div",{className:"_mi_component_popup_menu-button"},r.a.createElement("div",{id:"_exports_",className:"_icon-holder _actions_ _round-border",title:"Export statistics",onClick:R.export},r.a.createElement(D.img,O("export")))),r.a.createElement("div",{className:"_mi_component_popup_menu-list_container _export-menu_"},r.a.createElement("ul",{className:"_mi_component_popup_menu-list",onMouseLeave:R.popupMenu.close},r.a.createElement("li",{className:"_mi_component_popup_menu-item","data-type":"json",onClick:T},"To JSON"),r.a.createElement("li",{className:"_mi_component_popup_menu-item","data-type":"csv",onClick:T},"To CSV"),r.a.createElement("li",{className:"_mi_component_popup_menu-item","data-type":"xls",onClick:T},"To XLS")))))))))))),r.a.createElement("div",{className:"_mi_section",style:{border:"2px solid #F57201"}},r.a.createElement("div",{className:"_mi_section-inner"},r.a.createElement("div",{className:"_mi_row _mi_pad-10"},r.a.createElement("div",{className:"_mi_col _mi_col-24"},r.a.createElement("div",{className:"_mi_row"},N))),r.a.createElement("div",{className:"_mi_row"},r.a.createElement("div",{className:"_mi_col _mi_col-24"},r.a.createElement("div",{className:"_mi_flex_r-center-x"},r.a.createElement("div",{className:"_icon-holder _round-border _toggle_details",onClick:R.toggleDetails},r.a.createElement(D.img,O("arrow-down-white")))))))),r.a.createElement("div",{className:"_mi_section"},r.a.createElement("div",{className:"_mi_section_inner"},r.a.createElement("div",{className:"_detail_panel"},r.a.createElement("div",{className:"_mi_row _mi_flex_r"},r.a.createElement("div",{className:"_mi_col _mi_col-5 "},r.a.createElement("div",{className:"_mi_flex-c-center _search-term"},r.a.createElement("div",{className:"_search-term-inner"},r.a.createElement("span",{className:"_mi_text-bold _mi_text-large _search-term-header"},"Search Term"),r.a.createElement("span",{className:"_mi_text-italic _search-term-keyword"},n.extra.search_term.toUpperCase())))),r.a.createElement("div",{className:"_mi_col _mi_col-19 _mi_text-center"},S))))))}var D={img:function(e){var t=p("img",e.id),a=e.alt?e.alt:"",n=e.attributes?e.attributes:{};return r.a.createElement("img",Object.assign({src:t,alt:a},n))}},L=a(1),F=a.n(L),I=a(5),G=a(15),q=a(20),U=function(){return z.apply(this,arguments)};function z(){return(z=Object(I.a)(F.a.mark((function e(){var t,a,n,r,o,c,i,s,l,m,u,d,_,p,f,v,g,h;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=function(){return(g=Object(I.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a("Starting process..."),(t=m()).length){e.next=4;break}return e.abrupt("return",Promise.resolve(!1));case 4:return t=t.slice(0,5),u(t),e.next=8,new Promise((function(e){return d(e)}));case 8:return _(),p(),console.log("data after cleansing",l),n=f(),e.abrupt("return",Promise.resolve(n));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},v=function(){return g.apply(this,arguments)},f=function(){a("Generating statistics...");var e=["bsr","ratings","reviews"],t=function(){var t={};return e.forEach((function(e){t[e]=[]})),t}();l.forEach((function(a){e.forEach((function(e){a.hasOwnProperty(e)&&(!a[e]||0===a[e]&&""===a[e]||t[e].push(a[e]))}))})),console.log("Products with bsr",t.bsr),console.log("Products with ratings",t.ratings),console.log("Products with reviews",t.reviews);var n=function(){var e={},a=function(a){var n=t[a];n.length||(n=[0]),e[a]={highest:Math.max.apply(Math,Object(G.a)(n)),lowest:Math.min.apply(Math,Object(G.a)(n)),average:function(){if(!n.length)return 0;if(1===n.length)return n[0];n.sort((function(e,t){return e-t}));var e=Math.floor(n.length/2);return n.length%2?Math.round((n[e-1]+n[e]+n[e+1])/3):Math.round((n[e-1]+n[e])/2)}()}};for(var n in t)a(n);return e.total_products=s.total_products(),e.scanned_products=l.length,e.sold_products=t.bsr.length,e.average_amount_of_sellers=0,e.average_amount_of_review=0,e.scanned_products&&(e.average_amount_of_sellers=t.bsr.length?100*t.bsr.length/e.scanned_products:0,e.average_amount_of_review=t.reviews.length?100*t.reviews.length/e.scanned_products:0),e.total_review=t.reviews.length,e.total_ratings=t.ratings.length,e}();return a("Statistics generated."),n},p=function(){a("Cleansing data...");var e={asin:function(e){return e.toUpperCase()},bsr:function(e){return(e=o([/[,.]/],n([/[0-9]+([0-9,.])*/],e)))?Number(e):0},name:function(e){return e},ratings:function(e){var t=(e=n([/[0-9.,]+/],e)).match(/[,.]/);return t&&","===t[0]&&(e=e.split(t[0]).join(".")),e?Number(e):0},reviews:function(e){return(e=o([/[,.]/],n([/[0-9]+/],e)))?Number(e):0}};l.forEach((function(t){!function(e){delete e.element}(t),function(e){for(var t in e)try{e[t]=e[t].trim()}catch(n){a(n,e[t])}}(t),function(t){for(var a in t)e[a]&&(t[a]=t[a]?e[a](t[a]):"")}(t)})),a("Data cleansed.")},t=0,a=function(e){console.log(++t+". ",e)},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=a;t||(t="");var r,o=Object(q.a)(e);try{for(o.s();!(r=o.n()).done;){var c=r.value;n=t.match(c),t=n=n?n[0]:""}}catch(i){o.e(i)}finally{o.f()}return n},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="",n=0;for(t=t||document;!a&&n!==e.length;)a=t.querySelector(e[n]),n++;return a},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t||(t=""),console.log(t);var r=n(e,t);return t.split(r||"").join(a)},c={number:function(e){return console.log(e),e?Number(e):0},string:function(e){return e?e.toString():""}},i=function(){return n([/\.(com|uk|de)\//,/[a-z]+/i],window.location.href)},s=function(){function e(){return r(['span[cel_widget_id="RESULT_INFO_BAR-RESULT_INFO_BAR"]','span[cel_widget_id="UPPER-RESULT_INFO_BAR"]'])}return{total_products:function(){var t=e();if(t){var a=o([/[,.]/],n([/([0-9,.]+|[0-9]+) (result|Ergebnissen|Ergebnisse)/i,/[0-9,.]+/],t.innerText));return c.number(a)}return""},search_tearm:function(){var t=e();if(t){var a=o([/"/],n([/".*"/],t.innerText));return c.string(a)}return""}}}(),l=[],m=function(){a("Creating element list");var e,t=[".s-main-slot",".s-result-list"],n=[];for(;t.length&&(e=r(t));){if(e.children.length){Array.from(e.children).forEach((function(e){"asin"in e.dataset&&"componentType"in e.dataset&&"s-search-result"===e.dataset.componentType&&!e.innerText.match(/sponsored|gesponsert/i)&&n.push(e)})),a("Element list created.");break}t.splice(0,1)}return n},u=function(e){function t(e){var t=e.querySelector(".rush-component > .a-link-normal");return t?t.href:""}function n(e){var t=e.querySelector(".s-image");return t?t.alt:""}function r(e){var t=e.querySelector(".a-icon-alt");return t?t.innerText:""}function o(e){var t=e.querySelector(".a-link-normal > .a-size-base");return t&&(t.classList.contains("a-color-base")&&(t=e.parentNode.querySelector(".a-offscreen")),t)?t.innerText:""}a("Generating product objects..."),e.forEach((function(e){var a={asin:e.dataset.asin,element:e,name:n(e),url:t(e),ratings:r(e),reviews:o(e)};l.push(a)})),a("Project objects generation complete.")},d=function(){var e=Object(I.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a("Fetching DOM object from url..."),n=0,l.forEach(function(){var e=Object(I.a)(F.a.mark((function e(r){var o,c,i,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(o=r.url)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch(o);case 5:return c=e.sent,e.next=8,c.text();case 8:if(i=e.sent,s=new DOMParser,r.element=s.parseFromString(i,"text/html"),++n!==l.length){e.next=15;break}return a("DOM object added to products."),e.abrupt("return",t());case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){a("Parsing DOM to extract BSR...");var e=["#SalesRank","#prodDetails","#productDetails_feature_div","#productDetails_db_sections","#descriptionAndDetails #SalesRank"];l.forEach((function(t){var a=t.element,o=r(e,a);t.bsr=o?n([/([^\w]((#|Nr. )?([0-9,.]+|[0-9]+)) in)/],o.innerText):""})),a("BSR extracted")},h={locale:i(),search_term:s.search_tearm()},e.next=20,v();case 20:return h.stats=e.sent,a("Total products scanned: ".concat(l.length)),console.log("Result:",h),a("Process finished!"),e.abrupt("return",Promise.resolve(h));case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return[["profitability","Profitability"],["overall_score","Overall Score"],["competition","Competition"]].map((function(t){return{id:t[0],name:t[1],score:e[t[0]]/100}}))}function W(e){return[["bsr","BSR"],["ratings","Ratings"],["reviews","Reviews"],["sold_products","Sold"]].map((function(t){return{id:t[0],name:t[1],value:"sold_products"===t[0]?[e[t[0]],e.scanned_products]:e[t[0]]}}))}function H(){return(H=Object(I.a)(F.a.mark((function e(t){var a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:a=e.sent,n=f.score,t({primary:J(n),secondary:W(a.stats),extra:{locale:a.locale,search_term:a.search_term}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){var e=Object(n.useState)({data:{},loading:!0}),t=Object(i.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){}),[a.data]),a.loading&&function(e){H.apply(this,arguments)}((function(e){o({data:e,loading:!1})}));var c=m.appLoader;return a.loading?r.a.createElement(c,null):r.a.createElement(B,{data:a.data})}var V=a(10),X=Object(V.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),$=X.actions,K=($.increment,$.decrement,$.incrementByAmount,X.reducer),Q=Object(V.a)({reducer:{counter:K}}),Z=a(22);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z.a,{store:Q},r.a.createElement(Y,null))),document.getElementById("_mi_injected_element")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.51620e8d.chunk.js.map