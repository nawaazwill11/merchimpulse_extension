(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{23:function(e,t,n){e.exports=n(46)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),c=(n(28),n(29),n(1));n(30),n(31);function s(e){var t=document.querySelector(e),n=!0;function a(e){n?(t.style.height=r+e+"px",t.style.width=o+e+"px"):(t.style.height=r-e+"px",t.style.width=o-e+"px"),n=!n}var r=100,o=100;a(20),setInterval((function(){a(20)}),1e3)}var l=function(e,t){return{id:e,attributes:t}};var u={appLoader:function(){return r.a.useEffect((function(){s("#_loader-img img")}),[]),r.a.createElement("div",{id:"_loader-container"},r.a.createElement("div",{id:"_loader-img"},r.a.createElement(P.img,l("logo-name-only"))))},processLoader:function(){return r.a.useEffect((function(){s("#process-loader img")}),[]),r.a.createElement("div",{id:"process-loader"},r.a.createElement(P.img,l("logo-name-only")))}},m=n(19),_=n.n(m),d=(n(36),{de:".",com:",",uk:","}),v=function(e,t){var n="chrome-extension://ccicnpdeajgokkadlkfhbanikncnmjmg/merchui/";return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n+t+e}({img:{"arrow-down-white":"arrow-down-white.svg",average:"average.svg",bookmark:"bookmark.svg",competition:"competition.svg",cross:"cross.svg",export:"export.svg",filter:"filter.svg",highest:"high.svg",logo:"logo.svg","logo-name-only":"logo-name-only.svg",lowest:"low.svg",menu:"menu.svg",overall_score:"overall_score.svg",profitability:"profitability.svg",recent:"recent.svg",tick:"tick.svg",trademark:"trademark.svg"}}[e][t])};var f=function(e){var t=e.field;r.a.useEffect((function(){!function(e){var t="80%";"overall_score"===e.id&&(t="100%"),new _.a.Line("#".concat(e.id),{strokeWidth:10,easing:"easeInOut",duration:1400,color:"#F57200",trailColor:"#FBB26E",trailWidth:10,svgStyle:{width:t,height:"20px"},text:{style:{color:"white",position:"absolute",padding:0,margin:0,transform:null},autoStyleContainer:!1},from:{color:"#FFEA82"},to:{color:"#ED6A5A"},step:function(e,t){t.setText((100*t.value()).toFixed(2)+" %")}}).animate(e.score)}(t)}),[]);var n="";return"overall_score"===t.id&&(n+="_mi_text-large _mi_text-bold"),r.a.createElement("div",{className:"_score-progressbar"},r.a.createElement("div",{id:t.id}),r.a.createElement("div",{className:n+" _mi_text-center _score-title"},r.a.createElement("img",{className:"_score-icon",src:v("img",t.id),alt:""}),t.name))};n(37);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(e=Number(e))%1!==0&&(e=e.toFixed(t)),e}function g(e,t){var n="sold_products"===e.id?r.a.createElement("td",{colSpan:3},r.a.createElement("span",null,p(e.value[0])+"  (".concat(Math.round(100*e.value[0]/e.value[1]),")%  out of ").concat(e.value[1]," products"))):Object.keys(e.value).map((function(t){return r.a.createElement("td",{key:t,title:t.toUpperCase()+" "+e.name},r.a.createElement("span",{className:"_data_icon"},r.a.createElement(P.img,{id:t})),r.a.createElement("span",{className:"_table_value"},p(e.value[t])))}));return r.a.createElement("tr",{key:t},r.a.createElement("th",null,e.name),n)}var h=function(e){var t=e.data;r.a.useEffect((function(){!function(){var e=document.querySelectorAll("._table_value");Array.from(e).forEach((function(e){var t=e.innerText;if((t=t.match(/[0-9]+/)[0]).length<=3)return t;for(var n=document.querySelector("#_mi_injected_element").dataset.locale,a=d[n]?d[n]:".",r=1,o=[],i=t.length-1;i>=0;i--)r%4===0&&(r=1,o.push(a)),o.push(t[i]),r++;e.innerText=o.reverse().join("")}))}()}),[]);var n=t.map(g);return r.a.createElement("div",{className:"_additional_info_table"},r.a.createElement("table",{className:"_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:4,className:"_heading"},r.a.createElement("span",{className:"_mi_text-bold",style:{fontSize:"18px"}},"Additional Information")))),r.a.createElement("tbody",null,n)))},E=(n(38),n(11)),b={sendMessage:function(e,t){try{console.log(e),window.chrome.runtime.sendMessage("ccicnpdeajgokkadlkfhbanikncnmjmg",e,(function(e){t(e)}))}catch(n){console.log("here",n)}}},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e.querySelectorAll(t):e.querySelector(t)},y="#_mi_injected_element",w="._mi_component_popup_menu-list_container",x="._icon",N="._detail_panel",S="._search-term-keyword",j="#_bookmark_";var T={open:function(e){var t=e.currentTarget;k(t,w).classList.add("active")},close:function(e){e.currentTarget.closest(w).classList.remove("active")}};function O(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}var M=function(e){var t=window.location.href;function n(e){return e?e.find((function(e){return e.bookmark_info.url===t})):""}function a(e){b.sendMessage({type:"STORAGE_GET",key:"bookmarks"},(function(t){e(t)}))}function r(){var e="Bookmarked",t=k(document,j);t.setAttribute("title",e)}return{checkMarked:function(e){a((function(t){n(t)&&(r(!0),e("tick"))}))},setBookmark:function(e,o,i){a((function(e){console.log(e);var a,c,s=e||[],l=!0;s.length&&(n(s)&&(l=!1,window.confirm("This page is bookmarked. Do you wish to remove page from bookmarks?")&&(a=s.filter((function(e){return e.bookmark_info.url!==t})),r(!1),c=!0,i(!1))));l&&(a=function(e,t){return e?(n(e)||e.push(t),e):[t]}(s,Object(E.a)({bookmark_info:{url:window.location.href,search_term:o.extra.search_term.toUpperCase(),search_date:o.extra.search_date}},function(e){var t={score:{},table:{}};return e.primary.forEach((function(e){t.score[e.id]=e.score})),e.secondary.forEach((function(e){t.table[e.id]=e.value})),t}(o))),r(!0),c=!0,alert("Page added to bookmarks"),i("tick"));c&&b.sendMessage({type:"STORAGE_SET",key:"bookmarks",value:a},(function(){}))}))}}}();var A={initialize:function(e,t){var n,a;n=e.extra.locale,k(document,y).dataset.locale=n,document.addEventListener("click",(function(e){e.target.closest("._mi_component_popup_menu")||k(document,w,!0).forEach((function(e){return e.classList.remove("active")}))})),M.checkMarked(t.bookmark),a=t.filter,b.sendMessage({type:"STORAGE_GET",key:"recent_filter"},(function(e){e&&a(e)}))},popupMenu:T,toggleDetails:function(e){var t=e.currentTarget,n=k(t,x),a=k(document,N);O(n,"rotate"),O(a,"_panel_opened")},setBookmark:M.setBookmark,filterSearch:function(e){var t=e.currentTarget.dataset.type,n=document.querySelector("#_mi_injected_element").dataset.locale,a=document.querySelector("._search-term-keyword").innerText.trim(),r=document.createElement("a");r.setAttribute("href",function(e,t,n){return"https://www.amazon.".concat({com:"com",de:"de",uk:"co.uk"}[e],"/s?k=").concat(n,"&i=fashion-novelty&hidden-keywords=").concat(t,"&ref=nb_sb_noss")}(n,t,a)),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener"),b.sendMessage({type:"STORAGE_GET",key:"recent_filter"},(function(e){if(e!==t){var n={type:"STORAGE_SET",key:"recent_filter",value:t};b.sendMessage(n,(function(){document.body.appendChild(r),r.click(),r.remove()}))}}))},trademarkCheck:function(e,t){t(!0);var n=k(document,S).innerText.trim(),a="https://www.tmdn.org/tmview/api/search/?page=1&pageSize=3&criteria=C&basicSearch=".concat(n,"&newPage=true"),r=document.createElement("a");r.href=a,r.setAttribute("rel","noopener"),r.setAttribute("target","_blank"),document.body.appendChild(r),b.sendMessage({type:"GET_TAB_ID"},(function(e){var t={type:"STORAGE_SET",key:"tab",value:e.tab_id};b.sendMessage(t,(function(){var e={type:"OPEN_TAB",url:a,focus:!1};b.sendMessage(e,(function(){}))}))}))},indicateTrademark:function(e,t,n){e.stopPropagation(),n({false:"tick",true:"cross"}[e.currentTarget.dataset.found]),t(!1)},exportTo:function(e,t){var n={stats:{profitability:a(t.primary[0].score),competition:a(t.primary[2].score),overall_score:a(t.primary[1].score)},misc:{provider:"Merch Impulse",search_term:t.extra.search_term}};function a(e){console.log(e,100*e);var t=100*e,n=t.toString(),a=n.indexOf(".");a>=0&&(n.slice(a).length>2&&(t=t.toFixed(2)));return Number(t)}var r=function(){function e(e){var t=e.toString();return 1==t.length?"0"+t:t}var t=new Date;return e(t.getFullYear())+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+" "+(e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds()))};function o(e,t){var n={json:{extension:".json",format:"data:text/plain;charset=utf-8"},csv:{extension:".csv",format:"data:text/csv;charset=utf-8"},xls:{extension:".xls",format:"data:application/vnd.ms-excel"}};return{file_name:"merch-impluse-stats"+n[e].extension,download_data:n[e].format+","+t}}var i={json:function(e){var t={provider:"Merch Impulse",export_on:r()},n=Object(E.a)(Object(E.a)({},t),{},{data:{search_term:e.misc.search_term,stats:{profitability:e.stats.profitability,competition:e.stats.competition,overall_score:e.stats.overall_score}}}),a=JSON.stringify(n,null,4);return o("json",encodeURIComponent(a))},csv:function(e){var t=[["provider","Merch Impulse"],["exported on",r()],["search term",e.misc.search_term],["profitability",e.stats.profitability],["competition",e.stats.competition],["overall score",e.stats.overall_score]].map((function(e){return e.join(",")+"\n"})).join("");return o("csv",encodeURIComponent(t))},xls:function(e){return o("xls",function(){var t=[{th:["Provider","Exported on"]},{td:["Merch Impulse",r()]},{td:[""]},{th:["Search Term","Profitability","Competition","Overall Score"]},{td:[e.misc.search_term,e.stats.profitability,e.stats.competition,e.stats.overall_score]}].map((function(e){var t=Object.keys(e)[0];return"<tr>".concat(e[t].map((function(e){return"<".concat(t,">").concat(e,"</").concat(t,">")})).join(""),"</tr>")})).join("");return"<table>".concat(t,"</table>")}().replace(/ /g,"%20"))}},c=e.currentTarget.dataset.type;i[c](n);var s=i[c](n),l=s.file_name,u=s.download_data;console.log(u);var m=document.createElement("a");m.setAttribute("href",u),m.setAttribute("download",l),document.body.appendChild(m),m.click(),m.remove()}},C=function(){function e(e){var t=e.toString();return 1==t.length?"0"+t:t}return{currentDataTime:function(){var t=new Date;return e(t.getFullYear())+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+" "+(e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds()))}}}();function R(e){var t=r.a.useState(e.data),n=Object(c.a)(t,2),a=n[0],o=(n[1],r.a.useState(!1)),i=Object(c.a)(o,2),s=i[0],l=i[1],m=r.a.useState(!1),_=Object(c.a)(m,2),d=_[0],v=_[1],p=r.a.useState(!1),g=Object(c.a)(p,2),E=g[0],b=g[1],k=r.a.useState(!1),y=Object(c.a)(k,2),w=y[0],x=y[1];r.a.useEffect((function(){a.extra.search_date=C.currentDataTime(),A.initialize(a,{bookmark:b,filter:x})}),[a,s,d,E,w]);var N=function(e){return e.primary.map((function(e){return r.a.createElement("div",{className:"_mi_col _mi_col-8 _mi_pad-10",key:e.id},r.a.createElement(f,{field:e}))}))}(a),S=r.a.createElement(h,{data:a.secondary});function j(e){A.exportTo(e,a)}function T(e){A.filterSearch(e)}function O(e,t){return{id:e,attributes:{className:t=t||"_icon"}}}return console.log(a),r.a.createElement("div",{className:"_mi_container-inner"},s?r.a.createElement(u.processLoader,null):"",r.a.createElement("div",{className:"_mi_section _s1_"},r.a.createElement("div",{className:"_mi_section-inner"},r.a.createElement("div",{className:"_mi_row _top_section"},r.a.createElement("div",{className:"_mi_flex_r-center-y"},r.a.createElement("div",{className:"_mi_col _mi_col-8"},r.a.createElement("div",{className:"_mi_row"},r.a.createElement("div",{className:"_mi_col _mi_col-24"},r.a.createElement("div",{className:"_mi_text-center product-name"},r.a.createElement("span",{className:"_mi_text-small _mi_pad"},"Powered By"),"\xa0",r.a.createElement(P.img,O("logo")))))),r.a.createElement("div",{className:"_mi_col _mi_col-8"}),r.a.createElement("div",{className:"_mi_col _mi_col-8"},r.a.createElement("div",{className:"_mi_row _filter-row_"},r.a.createElement("div",{className:"_mi_col _mi_col-6"},r.a.createElement("div",{className:"_mi_flex_r-center-x"},r.a.createElement("div",{className:"_mi_component_popup_menu",onMouseEnter:A.popupMenu.open},r.a.createElement("div",{className:"_mi_component_popup_menu-button"},r.a.createElement("div",{className:"_icon-holder _actions_ _round-border",title:"Filter"},r.a.createElement(P.img,O("filter"))),r.a.createElement("div",{className:"_mi_component_popup_menu-list_container"},r.a.createElement("ul",{className:"_mi_component_popup_menu-list",onMouseLeave:A.popupMenu.close},["t-shirt","premium","popsocket","sweatshirt","longsleeve"].map((function(e){return r.a.createElement("li",{key:e,className:"_mi_component_popup_menu-item _filter_","data-type":e.toLowerCase(),onClick:T,title:w===e?"Recent filter":""},e[0].toUpperCase()+e.slice(1),w&&w===e?r.a.createElement("div",{className:"_recent_"},r.a.createElement(P.img,O("recent","_mini_icon"))):"")})))))))),r.a.createElement("div",{className:"_mi_col _mi_col-6"},r.a.createElement("div",{className:"_mi_flex_r-center-x"},r.a.createElement("div",{id:"_trademark-search_",className:"_icon-holder _actions_ _round-border",onClick:function(e){A.trademarkCheck(e,l)},title:"Trademark check"},r.a.createElement("div",{id:"_trademark-indicator_",onClick:function(e){A.indicateTrademark(e,l,v)}}),r.a.createElement(P.img,O("trademark")),d?r.a.createElement(P.img,O(d,"_micro_icon")):""))),r.a.createElement("div",{className:"_mi_col _mi_col-6"},r.a.createElement("div",{className:"_mi_flex_r-center-x"},r.a.createElement("div",{id:"_bookmark_",className:"_icon-holder _actions_ _round-border",onClick:function(e){A.setBookmark(e,a,b)},title:"Bookmark search"},r.a.createElement(P.img,O("bookmark")),E?r.a.createElement(P.img,O(E,"_micro_icon")):""))),r.a.createElement("div",{className:"_mi_col _mi_col-6"},r.a.createElement("div",{className:"_mi_flex_r-center-x"},r.a.createElement("div",{className:"_mi_component_popup_menu"},r.a.createElement("div",{className:"_mi_component_popup_menu-button"},r.a.createElement("div",{id:"_exports_",className:"_icon-holder _actions_ _round-border",title:"Export statistics",onClick:A.export},r.a.createElement(P.img,O("export")))),r.a.createElement("div",{className:"_mi_component_popup_menu-list_container _export-menu_"},r.a.createElement("ul",{className:"_mi_component_popup_menu-list"},r.a.createElement("li",{className:"_mi_component_popup_menu-item","data-type":"json",onClick:j},"To JSON"),r.a.createElement("li",{className:"_mi_component_popup_menu-item","data-type":"csv",onClick:j},"To CSV"),r.a.createElement("li",{className:"_mi_component_popup_menu-item","data-type":"xls",onClick:j},"To XLS")))))))))))),r.a.createElement("div",{className:"_mi_section",style:{border:"2px solid #F57201"}},r.a.createElement("div",{className:"_mi_section-inner"},r.a.createElement("div",{className:"_mi_row _mi_pad-10"},r.a.createElement("div",{className:"_mi_col _mi_col-24"},r.a.createElement("div",{className:"_mi_row"},N))),r.a.createElement("div",{className:"_mi_row"},r.a.createElement("div",{className:"_mi_col _mi_col-24"},r.a.createElement("div",{className:"_mi_flex_r-center-x"},r.a.createElement("div",{className:"_icon-holder _round-border _toggle_details",onClick:A.toggleDetails},r.a.createElement(P.img,O("arrow-down-white")))))))),r.a.createElement("div",{className:"_mi_section"},r.a.createElement("div",{className:"_mi_section_inner"},r.a.createElement("div",{className:"_detail_panel"},r.a.createElement("div",{className:"_mi_row _mi_flex_r"},r.a.createElement("div",{className:"_mi_col _mi_col-5 "},r.a.createElement("div",{className:"_mi_flex-c-center _search-term"},r.a.createElement("div",{className:"_search-term-inner"},r.a.createElement("span",{className:"_mi_text-bold _mi_text-large _search-term-header"},"Search Term"),r.a.createElement("span",{className:"_mi_text-italic _search-term-keyword"},a.extra.search_term.toUpperCase())))),r.a.createElement("div",{className:"_mi_col _mi_col-19 _mi_text-center"},S))))))}var P={img:function(e){var t=v("img",e.id),n=e.alt?e.alt:"",a=e.attributes?e.attributes:{};return r.a.createElement("img",Object.assign({src:t,alt:n},a))}},B=n(2),D=n.n(B),L=n(5);function F(e){if(e.bsr){var t=e.bsr.average,n=e.average_amount_of_review,a=e.reviews.average,r=e.average_amount_of_sellers,o=[{name:"average_bsr",inp_value:t,value:[0,5e4,1e5,15e4,2e5,25e4,3e5,35e4,4e5,5e5,6e5,7e5,8e5,9e5,1e6,15e5],score:[0,15,15,14,14,13,13,12,10,8,7,4,3,2,2,1]},{name:"average_amount_of_reviews_positive",inp_value:n,value:[0,.5,1,2],score:[4,10,12,8]},{name:"average_amount_of_reviews_negative",inp_value:n,value:[0,.5,1,2],score:[13,15,10,1]},{name:"average_review_positive",inp_value:a,value:[0,2,4,6,8,10],score:[1,3,7,11,13,15]},{name:"average_review_negative",inp_value:a,value:[0,2,4,6,8,10],score:[15,15,12,10,6,1]},{name:"amount_of_sellers_positive",inp_value:r,value:[0,10,20,30,40,50,60,70,80,90,100],score:[0,3,6,8,11,13,14,14,15,15,15]},{name:"amount_of_sellers_negative",inp_value:r,value:[0,10,20,30,40,50,60,70,80,90,100],score:[0,15,14,13,12,11,8,6,4,2,1]},{name:"amount_of_products",inp_value:e.total_products,value:[0,3,5,10,50,100,150,200,250,300,350,400,500],score:[0,11,12,14,15,14,12,10,8,6,5,3,1]}],i=function(){var e={};return o.forEach((function(t){e[t.name]=function(e){for(var t=e.value,n=e.score,a=e.inp_value,r=[],o=0;o<t.length;o++){var i=t[o],c=void 0;a>=i?function(){var e=t[o+1]?t[o+1]:0;c=n[o]*(a>=e?0===e?1:0:1)}():c=0,r.push(c)}return r.reduce((function(e,t){return e+t}))/15}(t)})),e}(),s=function(){return _({average_bsr:.7,average_amount_of_reviews_positive:.15,average_review_positive:.05,amount_of_sellers_positive:.1})},l=function(){return _({amount_of_products:.7,average_amount_of_reviews_negative:.1,average_review_negative:.05,amount_of_sellers_negative:.15})},u=function(){return.3*s()+.7*l()};console.log("All calculations",i);var m={profitability:s(),overall_score:u(),competition:l()};return console.log("Profitability:",s()),console.log("Competition:",l()),console.log("Overall Score:",u()),m}function _(e){return function(){for(var t=0,n=0,a=Object.entries(e);n<a.length;n++){var r=Object(c.a)(a[n],2),o=r[0];t+=r[1]*i[o]}return 100*t}()}}var I=n(15),q=n(20),G=function(){return U.apply(this,arguments)};function U(){return(U=Object(L.a)(D.a.mark((function e(){var t,n,a,r,o,i,c,s,l,u,m,_,d,v,f,p,g,h;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=function(){return(g=Object(L.a)(D.a.mark((function e(){var t,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n("Starting process..."),(t=u()).length){e.next=4;break}return e.abrupt("return",Promise.resolve(!1));case 4:return t=t.slice(0,5),m(t),e.next=8,new Promise((function(e){return _(e)}));case 8:return d(),v(),a=f(),e.abrupt("return",Promise.resolve(a));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},p=function(){return g.apply(this,arguments)},f=function(){n("Generating statistics...");var e=["bsr","ratings","reviews"],t=function(){var t={};return e.forEach((function(e){t[e]=[]})),t}();l.forEach((function(n){e.forEach((function(e){n.hasOwnProperty(e)&&(!n[e]||0===n[e]&&""===n[e]||t[e].push(n[e]))}))})),console.log("Products with bsr",t.bsr),console.log("Products with ratings",t.ratings),console.log("Products with reviews",t.reviews);var a=function(){var e={},n=function(n){var a=t[n];a.length||(a=[0]),e[n]={highest:Math.max.apply(Math,Object(I.a)(a)),lowest:Math.min.apply(Math,Object(I.a)(a)),average:function(){if(!a.length)return 0;if(1===a.length)return a[0];a.sort((function(e,t){return e-t}));var e=Math.floor(a.length/2);return a.length%2?Math.round((a[e-1]+a[e]+a[e+1])/3):Math.round((a[e-1]+a[e])/2)}()}};for(var a in t)n(a);return e.total_products=s.total_products(),e.scanned_products=l.length,e.sold_products=t.bsr.length,e.average_amount_of_sellers=0,e.average_amount_of_review=0,e.scanned_products&&(e.average_amount_of_sellers=t.bsr.length?100*t.bsr.length/e.scanned_products:0,e.average_amount_of_review=t.reviews.length?100*t.reviews.length/e.scanned_products:0),e.total_review=t.reviews.length,e.total_ratings=t.ratings.length,e}();return n("Statistics generated."),a},v=function(){n("Cleansing data...");var e={asin:function(e){return e.toUpperCase()},bsr:function(e){return(e=o([/[,.]/],a([/[0-9]+([0-9,.])*/],e)))?Number(e):0},name:function(e){return e},ratings:function(e){var t=(e=a([/[0-9.,]+/],e)).match(/[,.]/);return t&&","===t[0]&&(e=e.split(t[0]).join(".")),e?Number(e):0},reviews:function(e){return(e=o([/[,.]/],a([/[0-9]+/],e)))?Number(e):0}};l.forEach((function(t){!function(e){delete e.element}(t),function(e){for(var t in e)try{e[t]=e[t].trim()}catch(a){n(a,e[t])}}(t),function(t){for(var n in t)e[n]&&(t[n]=t[n]?e[n](t[n]):"")}(t)})),n("Data cleansed.")},t=0,n=function(e){console.log(++t+". ",e)},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=n;t||(t="");var r,o=Object(q.a)(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;a=t.match(i),t=a=a?a[0]:""}}catch(c){o.e(c)}finally{o.f()}return a},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="",a=0;for(t=t||document;!n&&a!==e.length;)n=t.querySelector(e[a]),a++;return n},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t||(t=""),console.log(t);var r=a(e,t);return t.split(r||"").join(n)},i={number:function(e){return console.log(e),e?Number(e):0},string:function(e){return e?e.toString():""}},c=function(){return a([/\.(com|uk|de)\//,/[a-z]+/i],window.location.href)},s=function(){function e(){return r(['span[cel_widget_id="RESULT_INFO_BAR-RESULT_INFO_BAR"]','span[cel_widget_id="UPPER-RESULT_INFO_BAR"]'])}return{total_products:function(){var t=e();if(t){var n=o([/[,.]/],a([/([0-9,.]+|[0-9]+) (result|Ergebnissen|Ergebnisse)/i,/[0-9,.]+/],t.innerText));return i.number(n)}return""},search_tearm:function(){var t=e();if(t){var n=o([/"/],a([/".*"/],t.innerText));return i.string(n)}return""}}}(),l=[],u=function(){n("Creating element list");var e,t=[".s-main-slot",".s-result-list"],a=[];for(;t.length&&(e=r(t));){if(e.children.length){Array.from(e.children).forEach((function(e){"asin"in e.dataset&&"componentType"in e.dataset&&"s-search-result"===e.dataset.componentType&&!e.innerText.match(/sponsored|gesponsert/i)&&a.push(e)})),n("Element list created.");break}t.splice(0,1)}return a},m=function(e){function t(e){var t=e.querySelector(".rush-component > .a-link-normal");return t?t.href:""}function a(e){var t=e.querySelector(".s-image");return t?t.alt:""}function r(e){var t=e.querySelector(".a-icon-alt");return t?t.innerText:""}function o(e){var t=e.querySelector(".a-link-normal > .a-size-base");return t&&(t.classList.contains("a-color-base")&&(t=e.parentNode.querySelector(".a-offscreen")),t)?t.innerText:""}n("Generating product objects..."),e.forEach((function(e){var n={asin:e.dataset.asin,element:e,name:a(e),url:t(e),ratings:r(e),reviews:o(e)};l.push(n)})),n("Project objects generation complete.")},_=function(){var e=Object(L.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n("Fetching DOM object from url..."),a=0,l.forEach(function(){var e=Object(L.a)(D.a.mark((function e(r){var o,i,c,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(o=r.url)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch(o);case 5:return i=e.sent,e.next=8,i.text();case 8:if(c=e.sent,s=new DOMParser,r.element=s.parseFromString(c,"text/html"),++a!==l.length){e.next=15;break}return n("DOM object added to products."),e.abrupt("return",t());case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){n("Parsing DOM to extract BSR...");var e=["#SalesRank","#prodDetails","#productDetails_feature_div","#productDetails_db_sections","#descriptionAndDetails #SalesRank"];l.forEach((function(t){var n=t.element,o=r(e,n);t.bsr=o?a([/([^\w]((#|Nr. )?([0-9,.]+|[0-9]+)) in)/],o.innerText):""})),n("BSR extracted")},h={locale:c(),search_term:s.search_tearm()},e.next=20,p();case 20:return h.stats=e.sent,n("Total products scanned: ".concat(l.length)),console.log("Result:",h),n("Process finished!"),e.abrupt("return",Promise.resolve(h));case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return[["profitability","Profitability"],["overall_score","Overall Score"],["competition","Competition"]].map((function(t){return{id:t[0],name:t[1],score:e[t[0]]/100}}))}function J(e){return[["bsr","BSR"],["ratings","Ratings"],["reviews","Reviews"],["sold_products","Sold"]].map((function(t){return{id:t[0],name:t[1],value:"sold_products"===t[0]?[e[t[0]],e.scanned_products]:e[t[0]]}}))}function W(){return(W=Object(L.a)(D.a.mark((function e(t){var n,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:n=e.sent,a=F(n.stats),t({primary:z(a),secondary:J(n.stats),extra:{locale:n.locale,search_term:n.search_term}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){var e=Object(a.useState)({data:{},loading:!0}),t=Object(c.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){}),[n.data]),n.loading&&function(e){W.apply(this,arguments)}((function(e){o({data:e,loading:!1})}));var i=u.appLoader;return n.loading?r.a.createElement(i,null):r.a.createElement(R,{data:n.data})}var Y=n(10),V=Object(Y.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),X=V.actions,$=(X.increment,X.decrement,X.incrementByAmount,V.reducer),K=Object(Y.a)({reducer:{counter:$}}),Q=n(22);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q.a,{store:K},r.a.createElement(H,null))),document.getElementById("_mi_injected_element")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.1071ff42.chunk.js.map